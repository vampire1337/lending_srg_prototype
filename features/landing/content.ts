import type { LandingContent, Testimonial } from '@/features/landing/types';

const CONTENT_SEED: LandingContent = {
  navigation: [
    { href: '#banks', label: 'Банкам' },
    { href: '#insurers', label: 'Страховым' },
    { href: '#technology', label: 'Технологии' },
    { href: '#contacts', label: 'Контакты' },
  ],
  hero: {
    title: 'Соединяем банки, страховые компании и агентов',
    subtitle:
      'Автоматизируем продажи и андеррайтинг нестандартных рисков. Даем банкам новый доход, страховым компаниям полный контроль и рост продаж.',
    cta: 'Запросить демо',
    media: {
      src: 'https://srgroup.ru/upload/iblock/57a/aa04hbvsk25bpp2o8suhcl5paid4cnan.jpg',
      alt: 'Команда SRG обсуждает страховые процессы',
    },
    pillars: [
      {
        title: 'Для банков',
        description: 'Канал комиссионного дохода без затрат на разработку.',
      },
      {
        title: 'Для страховых',
        description: 'Гибкое управление любыми продуктами и агентской сетью.',
      },
      {
        title: 'Для сложных случаев',
        description: 'Прямая связь агента и андеррайтера для нестандартных задач.',
      },
    ],
  },
  dna: {
    title: 'Мы выросли из сложного страхования недвижимости и создали гибкую платформу с мощным API.',
    body: 'Сегодня это готовое решение для банков и страховых компаний, которые хотят быстро запускать, продавать и сопровождать любые страховые продукты. Мы научились соединять агентов и андеррайтеров, автоматизировать нестандартные риски и выпускать сложные печатные формы без ручной рутины.',
  },
  problem: {
    title: 'Любой клиент. Любой объект. Любой риск.',
    body: 'Рынок требует индивидуального подхода. Сложные объекты, возрастные заемщики и нетиповые риски ломают шаблонные процессы. Агенты тратят время на согласования, андеррайтеры тонут в операционке, банки теряют комиссию. SRG закрывает эти разрывы единой инфраструктурой.',
  },
  platform: {
    title: 'SRG — это не просто конструктор или витрина. Это инфраструктура.',
    body: 'Платформа соединяет всех участников сложной страховой сделки. Мы берём на себя технический контур: настройку продуктов, выпуск документов любой сложности и интеграцию с экосистемой партнёров. Экспертиза остаётся у людей, рутина у автоматизации.',
  },
  banks: {
    title: 'Превратите ипотечную сделку в источник комиссионного вознаграждения.',
    subtitle: 'Для банков: канал комиссионного дохода без затрат на разработку.',
    media: {
      src: 'https://srgroup.ru/upload/iblock/a44/lofndhlp2dcw2rqzghoygblr962ii1a8.jpg',
      alt: 'Финансовое планирование и ипотечные сервисы',
    },
    values: [
      {
        title: 'Единое окно для менеджеров',
        description:
          'Подбор и оформление страховки в одном интерфейсе без десятков кабинетов разных СК.',
      },
      {
        title: 'Удобство для сотрудников',
        description:
          'Интуитивный интерфейс, автоподстановка данных и быстрые пролонгации за минуты.',
      },
      {
        title: 'White Label',
        description:
          'Встраивание виджета или работа под брендом банка без изменения привычного UX.',
      },
      {
        title: 'Интеграция в цифровой контур',
        description:
          'API встраивает страхование в мобильное приложение и ДБО с бесшовным клиентским путём.',
      },
    ],
  },
  insurers: {
    title: 'Полный цикл работы со сложными рисками и агентской сетью.',
    subtitle:
      'Заводите любые продукты, настраивайте скоринг под свои правила и управляйте продажами в едином контуре.',
    media: {
      src: 'https://srgroup.ru/upload/iblock/4de/97t33w3hyy2r53my0hbbl3v9axhyhxll.jpg',
      alt: 'Аналитика и андеррайтинг для страховых компаний',
    },
    productControl: [
      {
        title: 'Продукты любой сложности',
        description:
          'Поддержка квартир, домов, апартаментов, участков, машиномест и добровольных видов страхования.',
      },
      {
        title: 'Гибкий автоскоринг',
        description:
          'Типовые заявки автоматизируются по вашим правилам, андеррайтеры фокусируются на сложных кейсах.',
      },
      {
        title: 'Тонкая настройка тарифа',
        description: 'Расчёт строго по вашей тарифной сетке с учётом факторов риска.',
      },
      {
        title: 'Документы любой сложности',
        description: 'Генератор форм под регламенты, бренд и требования партнёров.',
      },
    ],
    salesControl: [
      {
        title: 'Инструмент для агентов',
        description: 'Быстрое оформление и пролонгация полисов в едином рабочем пространстве.',
      },
      {
        title: 'Рост продаж',
        description:
          'Встроенные апсейл-механики помогают агентам продавать добровольное страхование.',
      },
      {
        title: 'Чат агент-андеррайтер',
        description:
          'Нестандартные случаи решаются внутри заявки без потерь в скорости и качестве.',
      },
      {
        title: 'Гибкая мотивация',
        description: 'Настройка скидок, персональных условий и комиссионного вознаграждения.',
      },
    ],
    integrations: [
      {
        title: 'API-first интеграция',
        description: 'Подключение к внутренним системам без переписывания существующих процессов.',
      },
      {
        title: 'Данные в ваши учётные системы',
        description:
          'Передача полисов и тарифов в 1С, SAP и другие контуры с автоматическим обновлением.',
      },
      {
        title: 'Безопасность и надёжность',
        description: 'Работа в соответствии с 152-ФЗ и отраслевыми стандартами.',
      },
    ],
  },
  technology: {
    title: 'API-инфраструктура, которая встраивается куда угодно.',
    body: 'Настоящая сила SRG в бесшовной интеграции: вы получаете строительные блоки, из которых собираете страховой сервис под свои задачи и контуры.',
    media: {
      src: 'https://srgroup.ru/local/templates/srg/static/img/general/main-bottom.png',
      alt: 'Технологическая инфраструктура и интеграции',
    },
    matrix: [
      {
        audience: 'Банкам',
        capability:
          'Встройка страхового виджета в мобильное приложение или интернет-банк без выхода клиента из банковской среды.',
      },
      {
        audience: 'Страховым компаниям',
        capability:
          'Подключение андеррайтингового движка и генератора документов к внутренним системам или работа агентов в ЛК SRG.',
      },
      {
        audience: 'Корпоративным клиентам',
        capability: 'Интеграция страхования в CRM, ERP и маркетплейсы.',
      },
      {
        audience: 'Разработчикам',
        capability:
          'Полноценный REST API: котировки, заявки, выпуск полисов и выгрузка данных программно.',
      },
    ],
    components: [
      {
        title: 'Управление продуктами',
        description: 'Конструктор профилей и гибкий скоринг с контролем правил на стороне СК.',
      },
      {
        title: 'Процесс продажи',
        description: 'Умная заявка, пролонгация и сбор ПЭП в одном процессе.',
      },
      {
        title: 'Коммуникации',
        description: 'Чат, уведомления и запрос документов внутри контекста сделки.',
      },
      {
        title: 'Документооборот',
        description: 'Генератор полисов и приложений любой структуры и сложности.',
      },
      {
        title: 'Интеграции',
        description: 'API для банков и страховых, импорт и экспорт данных без ручного труда.',
      },
    ],
  },
  cta: {
    title: 'Готовы обсудить, как SRG может увеличить ваш доход от страхования?',
    body: 'Оставьте заявку, и мы проведём индивидуальную демонстрацию под задачи вашего бизнеса.',
  },
};

const TESTIMONIALS_SEED: Testimonial[] = [
  {
    quote: 'В SRG самая понятная система. Оформляю 95% клиентов здесь.',
    author: 'Шамиля, агент',
  },
  {
    quote: 'У вас самая полная система, лучше я не встречал. Особенно по титулу.',
    author: 'Никита, агент',
  },
  {
    quote: 'Спасибо, что сделали статус “Запрошены документы” — это очень удобно.',
    author: 'Кристина, агент',
  },
];

function toDataUrl<T>(payload: T): string {
  return `data:application/json,${encodeURIComponent(JSON.stringify(payload))}`;
}

export async function getLandingContent(): Promise<LandingContent> {
  const response = await fetch(toDataUrl(CONTENT_SEED), {
    cache: 'force-cache',
    next: {
      revalidate: 43200,
      tags: ['landing-content-source'],
    },
  });

  return response.json() as Promise<LandingContent>;
}

export async function getAgentTestimonials(): Promise<Testimonial[]> {
  const response = await fetch(toDataUrl(TESTIMONIALS_SEED), {
    cache: 'force-cache',
    next: {
      revalidate: 43200,
      tags: ['landing-testimonials-source'],
    },
  });

  return response.json() as Promise<Testimonial[]>;
}
